{"version":3,"file":"static/js/653.15ebc932.chunk.js","mappings":"8PACA,GAAgB,OAAS,uBAAuB,MAAQ,uB,SCyDxD,EApDkB,WAChB,OAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,MAkBjB,OATAC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVJ,GAA0B,OAAVA,EAApB,CACA,IAAMK,EAAY,mCAAG,qGACGC,EAAAA,EAAAA,IAAaN,GADhB,OACbO,EADa,OAEnBX,EAAUW,GAFS,2CAAH,qDAIlBF,GAL0C,CAM3C,GAAE,CAACL,KAGF,iCACE,gBAAKQ,UAAWC,EAAAA,OAAhB,UACE,kBAAMC,SAnBS,SAAAC,GACnBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cACnBf,EAA0B,KAAVC,EAAe,CAAEA,MAAOa,EAAKE,SAASf,MAAMgB,OAAU,CAAC,GACvEH,EAAKI,OACN,EAcmCT,UAAWC,EAAAA,KAAzC,WACE,kBACED,UAAWC,EAAAA,MACXS,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,KAAK,WAEP,mBAAQH,KAAK,SAASV,UAAWC,EAAAA,OAAjC,0BAKJ,wBACGd,GACCA,EAAO2B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACT,eAAIhB,UAAWC,EAAAA,iBAAf,UACE,SAAC,KAAD,CAAMgB,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMzB,GAA1C,SACGsB,KAFqCD,EADjC,QAUpB,C,uKCtDKK,EAAU,mCAChBC,EAAAA,EAAAA,SAAAA,QAAyB,gCAElB,IAAMC,EAAa,mCAAG,oGACFD,EAAAA,EAAAA,IAAA,qCAAwCD,IADtC,cACnBG,EADmB,yBAElBA,EAASlB,KAAKN,SAFI,2CAAH,qDAKbD,EAAY,mCAAG,WAAMN,GAAN,uFACD6B,EAAAA,EAAAA,IAAA,+BAAkCD,EAAlC,4DAA6F5B,IAD5F,cAClB+B,EADkB,yBAEjBA,EAASlB,KAAKN,SAFG,2CAAH,sDAKZyB,EAAS,mCAAG,WAAMC,GAAN,uFACEJ,EAAAA,EAAAA,IAAA,gBAAmBI,EAAnB,oBAAsCL,EAAtC,oBADF,cACfG,EADe,yBAEdA,EAASlB,MAFK,2CAAH,sDAKTqB,EAAW,mCAAG,WAAMD,GAAN,uFACFJ,EAAAA,EAAAA,IAAA,gBACZI,EADY,4BACeL,EADf,oBADE,cACnBG,EADmB,yBAIlBA,EAASlB,KAAKsB,MAJI,2CAAH,sDAOXC,EAAY,mCAAG,WAAMH,GAAN,uFACHJ,EAAAA,EAAAA,IAAA,gBACZI,EADY,4BACeL,EADf,2BADG,cACpBG,EADoB,yBAInBA,EAASlB,KAAKN,SAJK,2CAAH,sDAQZ8B,EAAW,CACpBP,cAAAA,EACAxB,aAAAA,EACA0B,UAAAA,EACAE,YAAAA,EACAE,aAAAA,E","sources":["webpack://goit-react-hw-05-movies/./src/components/Movies/Movies.module.css?9f30","components/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Movies_button__hVjwG\",\"input\":\"Movies_input__OE3ef\"};","import { useEffect, useState } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchByQuery } from 'services/api';\nimport css from './Movies.module.css';\n\nconst MoviePage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const location = useLocation();\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const data = event.currentTarget;\n    setSearchParams(query !== '' ? { query: data.elements.query.value } : {});\n    data.reset();\n  };\n\n  useEffect(() => {\n    if (query === '' || query === null) return;\n    const searchMovies = async () => {\n      const results = await fetchByQuery(query);\n      setMovies(results);\n    };\n    searchMovies();\n  }, [query]);\n\n  return (\n    <>\n      <div className={css.search}>\n        <form onSubmit={handleSubmit} className={css.form}>\n          <input\n            className={css.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            name=\"query\"\n          />\n          <button type=\"submit\" className={css.button}>\n            Search\n          </button>\n        </form>\n      </div>\n      <ul>\n        {movies &&\n          movies.map(({ id, title }) => (\n            <li className={css.movieList__Items} key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n\nconst API_KEY = 'eb7c9132ba6734f59534fa5b6e14e667';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrending = async () => {\n    const response = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n    return response.data.results;\n};\n\nexport const fetchByQuery = async query => {\n    const response = await axios.get(`search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`);\n    return response.data.results;\n};\n\nexport const fetchById = async movieId => {\n    const response = await axios.get(`movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n    return response.data;\n};\n\nexport const fetchActors = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const fetchReviews = async movieId => {\n  const response = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n  \n\nexport const allFetch = {\n    fetchTrending,\n    fetchByQuery,\n    fetchById,\n    fetchActors,\n    fetchReviews,\n};\n\n"],"names":["useState","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","searchMovies","fetchByQuery","results","className","css","onSubmit","event","preventDefault","data","currentTarget","elements","value","reset","type","autoComplete","autoFocus","name","map","id","title","to","state","from","API_KEY","axios","fetchTrending","response","fetchById","movieId","fetchActors","cast","fetchReviews","allFetch"],"sourceRoot":""}